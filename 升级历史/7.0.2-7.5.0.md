# 7.0.2-7.5.0

## `package.json`

```json
  "dependencies": {
    "@angular/animations": "~7.2.0",
    "@angular/common": "~7.2.0",
    "@angular/compiler": "~7.2.0",
    "@angular/core": "~7.2.0",
    "@angular/forms": "~7.2.0",
    "@angular/platform-browser": "~7.2.0",
    "@angular/platform-browser-dynamic": "~7.2.0",
    "@angular/router": "~7.2.0",
    "core-js": "^2.5.4",
    "rxjs": "~6.3.3",
    "tslib": "^1.9.0",
    "zone.js": "~0.8.26",
    "@antv/data-set": "^0.10.2",
    "@antv/g2": "^3.5.3",
    "@antv/g2-plugin-slider": "^2.1.1",
    "@ngx-translate/core": "^11.0.1",
    "@ngx-translate/http-loader": "^4.0.0",
    "ajv": "^6.10.0",
    "@delon/abc": "^7.5.0",
    "@delon/acl": "^7.5.0",
    "@delon/auth": "^7.5.0",
    "@delon/cache": "^7.5.0",
    "@delon/chart": "^7.5.0",
    "@delon/form": "^7.5.0",
    "@delon/mock": "^7.5.0",
    "@delon/theme": "^7.5.0",
    "@delon/util": "^7.5.0",
    "file-saver": "^2.0.1",
    "ng-zorro-antd": "^7.3.3",
    "ngx-countdown": "^3.2.0",
    "ngx-tinymce": "^7.0.0",
    "ngx-ueditor": "^2.1.3",
    "screenfull": "^4.2.0",
    "qrious": "^4.0.2"
  },
  "devDependencies": {
    "@angular-devkit/build-angular": "~0.13.0",
    "@angular/cli": "~7.3.9",
    "@angular/compiler-cli": "~7.2.0",
    "@angular/language-service": "~7.2.0",
    "@types/node": "~8.9.4",
    "@types/jasmine": "~2.8.8",
    "@types/jasminewd2": "~2.0.3",
    "codelyzer": "~4.5.0",
    "jasmine-core": "~2.99.1",
    "jasmine-spec-reporter": "~4.2.1",
    "karma": "~4.0.0",
    "karma-chrome-launcher": "~2.2.0",
    "karma-coverage-istanbul-reporter": "~2.0.1",
    "karma-jasmine": "~1.1.2",
    "karma-jasmine-html-reporter": "^0.2.2",
    "protractor": "~5.4.0",
    "ts-node": "~7.0.0",
    "tslint": "~5.11.0",
    "typescript": "~3.2.2",
    "@angularclass/hmr": "^2.1.3",
    "@types/jszip": "^3.1.5",
    "@types/mockjs": "^1.0.2",
    "codecov": "^3.2.0",
    "tslint-config-prettier": "^1.18.0",
    "tslint-language-service": "^0.9.9",
    "editorconfig-tools": "^0.1.1",
    "husky": "^1.3.1",
    "gh-pages": "^2.0.1",
    "lint-staged": "^8.1.0",
    "less-bundle-promise": "^1.0.7",
    "mockjs": "^1.0.1-beta3",
    "prettier": "^1.16.1",
    "prettier-stylelint": "^0.4.2",
    "stylelint": "^10.0.1",
    "stylelint-config-css-modules": "^1.4.0",
    "stylelint-config-prettier": "^5.1.0",
    "stylelint-config-rational-order": "^0.1.2",
    "stylelint-config-standard": "^18.3.0",
    "stylelint-declaration-block-no-ignored-properties": "^2.1.0",
    "stylelint-order": "^3.0.0",
    "webpack-bundle-analyzer": "^3.3.2",
    "antd-theme-generator": "^1.1.6",
    "xlsx": "^0.14.2",
    "@delon/testing": "^7.5.0",
    "ng-alain": "^7.5.0",
    "ng-alain-codelyzer": "^0.0.1"
  },
```

## 有变化的源文件

src/assets/tmp/i18n/   C

src/app/core/net/default.interceptor.ts  C
  92行 在正式版要取消
  98行 在正式版可以保留， 500 是服务器错误，出提示页面是可以考虑的

src/app/layout/default/header/components/fullscreen.component.ts  C

tslint.json  C

_mock/    C

src/app/core/i18n/i18n.service.ts  C




src/app/layout/default/setting-drawer/setting-drawer.component.ts  C

src/app/routes/passport/login/login.component.ts  不需要处理
  `let url = this.tokenService.referrer!.url || '/';`
  示例有这句，正式版不需要，因总返回首页，不考虑直接进子级页面
  种子项目也不需要

src/app/routes/passport/register/register.component.ts C

.prettierignore  C
.prettierrc  C

src/hmr.ts  C
src/polyfills.ts   C

src/style-icons-auto.ts C 要检查代码
src/style-icons.ts  C 要检查代码

.stylelintrc  C

src/styles.less  U
  更新 1-9行

.vscode/settings.json C

src/app/layout/default/header/header.component.html  U
   `<i nz-icon type`
   改为
   `<i nz-icon nzType`

src/app/layout/default/header/components/notify.component.ts  C
src/app/layout/default/header/components/search.component.ts   C
src/app/layout/default/header/components/i18n.component.ts C
src/app/layout/default/header/components/icon.component.ts C
src/app/layout/default/header/components/storage.component.ts  C
src/app/layout/default/header/components/task.component.ts C
src/app/layout/default/header/components/user.component.ts  U
  更改 46行 （增加非空断言！）
  检查 所有 i nz-icon nzType

src/app/layout/default/setting-drawer/setting-drawer.component.html C

src/app/layout/passport/passport.component.pug  U
    更改13行： i(nz-icon, nzType="copyright")

src/app/routes/passport/lock/lock.component.html C

src/app/routes/passport/login/login.component.pug  U
    更改7行 nz-input-group(nzSize="large",nzPrefixIcon="user")
      13行 nz-input-group(nzSize="large",nzPrefixIcon="lock")

src/app/routes/passport/register/register.component.html  C

src/app/routes/pro/account/center/center.component.html C
  要检查代码
    改动的代码： <i nz-icon nzType="plus"></i>

src/app/routes/pro/account/center/applications/applications.component.html C
  要检查代码
  改动的代码：所有 i nz-tooltip nz-icon nzType

src/app/routes/pro/account/center/articles/articles.component.html  C
  要检查代码
  改动的代码：所有 i nz-icon nzType

src/app/routes/pro/account/settings/base/base.component.html  C
  要检查代码
  改动的代码：所有 i nz-icon nzType

src/app/routes/pro/account/settings/binding/binding.component.html  C
  要检查代码
  改动的代码：所有 i nz-icon nzType

src/assets/tmp/app-data.json  U
   "icon": "anticon-rocket",
  
scripts/color-less.js  C

src/app/layout/default/setting-drawer/setting-drawer.component.ts C

## 需要考虑是否要修改的源代码

### this.selectedRows = e.checkbox;

旧代码

```ts
  stChange(e: STChange) {
    switch (e.type) {
      case 'checkbox':
        this.selectedRows = e.checkbox;
        this.cdr.detectChanges();
        break;
    }
  }
```
 
新代码： 增加非空断言 !
```ts
  stChange(e: STChange) {
    switch (e.type) {
      case 'checkbox':
        this.selectedRows = e.checkbox!;
        this.cdr.detectChanges();
        break;
    }
  }
```

### i nz-icon

html

原代码：

```html
<i nz-icon type="lock"></i>
```

新代码：

```html
<i nz-icon nzType="lock"></i>
```

新增按钮前的符号：

```html
  <i nz-icon nzType="plus"></i>
```

操作成功：

```html
  <i nz-icon nzType="check-circle" class="text-success icon-lg"></i>
```

下载：

```html
  <i nz-icon nzType="download"></i>
```

编辑：
```html
  <i nz-icon nzType="edit"></i>
```

省略号：
```html
<i nz-icon nzType="ellipsis"></i>
```

收起展开

原代码：
```html
  <i class="anticon" [class.anticon-down]="!expandForm" [class.anticon-up]="expandForm"></i>
```html
新代码：
```html
  <i nz-icon [nzType]="expandForm ? 'up' : 'down'"></i>
```

更多操作：
```html
  <i nz-icon nzType="down"></i>
```
